<div class="page-header">
  <h1>GestiÃ³n de Clientes</h1>
  <button class="btn btn-primary" routerLink="/clientes/nuevo">
    <span>â•</span> Nuevo Cliente
  </button>
</div>

<div class="card">
  <div class="card-body">
    <!-- BÃºsqueda -->
    <div class="search-box">
      <input
        type="text"
        [(ngModel)]="searchText"
        placeholder="Buscar por nombre, identificaciÃ³n, telÃ©fono..."
        class="search-input"
      />
      <span class="search-icon">ğŸ”</span>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="text-center">
      <div class="spinner"></div>
      <p class="text-muted mt-md">Cargando clientes...</p>
    </div>

    <!-- Empty State -->
    <div *ngIf="!loading && clientes.length === 0" class="empty-state">
      <span class="empty-icon">ğŸ‘¥</span>
      <h3>No hay clientes registrados</h3>
      <p class="text-muted">Comienza agregando tu primer cliente</p>
      <button class="btn btn-primary" routerLink="/clientes/nuevo">Crear Cliente</button>
    </div>

    <!-- Tabla de Clientes -->
    <div *ngIf="!loading && clientes.length > 0" class="table-container">
      <table>
        <thead>
          <tr>
            <th>Nombre</th>
            <th>IdentificaciÃ³n</th>
            <th>Edad</th>
            <th>GÃ©nero</th>
            <th>DirecciÃ³n</th>
            <th>TelÃ©fono</th>
            <th>Estado</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let cliente of clientes | searchFilter: searchText : ['nombre', 'identificacion', 'telefono', 'direccion']">
            <td>
              <div class="client-name">
                <span class="client-avatar">{{ cliente.nombre.charAt(0).toUpperCase() }}</span>
                <strong>{{ cliente.nombre }}</strong>
              </div>
            </td>
            <td>{{ cliente.identificacion }}</td>
            <td>{{ cliente.edad }} aÃ±os</td>
            <td>{{ cliente.genero }}</td>
            <td>{{ cliente.direccion }}</td>
            <td>{{ cliente.telefono }}</td>
            <td>
              <span class="badge" [class.badge-success]="cliente.estado" [class.badge-danger]="!cliente.estado">
                {{ cliente.estado ? 'Activo' : 'Inactivo' }}
              </span>
            </td>
            <td>
              <div class="action-buttons">
                <button
                  class="btn-icon btn-icon-primary"
                  (click)="onViewCuentas(cliente)"
                  title="Ver Cuentas"
                >
                  ğŸ’³
                </button>
                <button
                  class="btn-icon btn-icon-secondary"
                  (click)="onEdit(cliente)"
                  title="Editar"
                >
                  âœï¸
                </button>
                <button
                  class="btn-icon btn-icon-danger"
                  (click)="onDelete(cliente)"
                  title="Eliminar"
                >
                  ğŸ—‘ï¸
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Resultados de bÃºsqueda -->
    <div *ngIf="searchText && (clientes | searchFilter: searchText : ['nombre', 'identificacion', 'telefono']).length === 0" class="empty-state">
      <span class="empty-icon">ğŸ”</span>
      <h3>No se encontraron resultados</h3>
      <p class="text-muted">Intenta con otros tÃ©rminos de bÃºsqueda</p>
    </div>
  </div>
</div>

